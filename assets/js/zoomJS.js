// image zoom code 
!function(e){e.fn.zoomImage=function(a){a=e.extend({},{layerW:100,layerH:100,layerOpacity:.2,layerBgc:"#000",showPanelW:500,showPanelH:500,marginL:5,marginT:0},a),e(this).each(function(){var o=e(this).css({position:"relative"}),t=o.offset(),i=o.width(),n=o.height();o.find("img").css({width:"100%",height:"100%"});var r=a.showPanelW/a.layerW,s=a.showPanelH/a.layerH,l=e("<img>").attr("src",o.attr("href")).css({position:"absolute",left:"0",top:"0",width:i*r,height:n*s}).attr("id","big-img"),h=e("<div>").css({display:"none",position:"absolute",left:"0",top:"0",backgroundColor:a.layerBgc,width:a.layerW,height:a.layerH,opacity:a.layerOpacity,border:"1px solid #ccc",cursor:"crosshair"}),c=e("<div>").css({display:"none",zIndex:"9",position:"absolute",overflow:"hidden",left:i+a.marginL,top:a.marginT,width:a.showPanelW,height:a.showPanelH}).append(l);o.append(h).append(c),o.on("mousemove",function(e){var o=e.pageX-t.left,c=e.pageY-t.top;o<=a.layerW/2?o=0:o>=i-a.layerW/2?o=i-a.layerW:o-=a.layerW/2,c<a.layerH/2?c=0:c>=n-a.layerH/2?c=n-a.layerH:c-=a.layerH/2,h.css({left:o,top:c}),l.css({left:-o*r,top:-c*s})}).on("mouseenter",function(){h.show(),c.show()}).on("mouseleave",function(){h.hide(),c.hide()})})}}(jQuery);